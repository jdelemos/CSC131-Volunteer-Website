<!DOCTYPE html>
<html>
  <head>
  <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel = "stylesheet" href = "myCSSStyle4.0.css">
    <title>Sample Form</title>
  </head>
  <body>
    <header class = "header">
      <div class="logo">
          <img src="images/image_3.png" alt="">
      </div>
      <h1 class="apply">Apply</h1>
      <h1 class="contact-us">Contact Us</h1>
      <div class ="circle">
          <div class="login-icon">
              <img src="images/user.png" alt="Login">
          </div>
      </div>
  </header>
    <div class="form-container">
    <form id = "myForm">
	<div class = "profileImage" style = "margin-left: calc(768px*var(--scaling-factor));">
	<img src="C:\Users\Valiant\OneDrive\Documents\SACState\FALL2023\CSC131\Project\Images\EditedProfile.png">
	</div>
    
	<div class = "name">
      <input 
      type = "text" 
      class="nameO" 
      name = "firstName" 
      id = "name" 
      maxlength = "30" 
      placeholder = "First and Last Name" 
      style = "margin-left: calc(221px*var(--scaling-factor)); width: calc(418px*var(--scaling-factor));"
      required>
    </div>
	<div class = "email">
      <input type = "email" class ="emailO" name = "email" id = "email" pattern = ".+@gmail\.com" maxlength = "100" placeholder = "Email" style = "margin-left: calc(698px*var(--scaling-factor)); width: calc(524px*var(--scaling-factor));" required> 
      </div>
	<div class = "phone">
      <input type = "text" class ="phoneO" name = "phoneNumber" id = "phone" maxlength = "10" placeholder = "Phone Number" style = "margin-left: calc(1281px*var(--scaling-factor)); width: calc(367px*var(--scaling-factor));" required>
      	</div>
	<div class = "address">
      <input type = "text" class ="addressO" name = "streetAddress" id = "address" maxlength = "50" placeholder = "Street Address" style = "margin-left: calc(221px*var(--scaling-factor)); width: calc(820px*var(--scaling-factor));" required>
      	</div>
	<div class = "city">
      <input type = "text" class ="cityO" name = "city" id = "city" maxlength = "30" placeholder = "City" style = "margin-left: calc(1101px*var(--scaling-factor)); width: calc(339px*var(--scaling-factor));"required>
	</div>
      	<div class = "zipcode">
      <input type = "text" class ="zipcodeO" name = "zipcode" id = "zipcode" maxlength = "5" placeholder = "Zip Code" style = "margin-left: calc(1499px*var(--scaling-factor)); width: calc(149px*var(--scaling-factor));" required>
      	</div>
	<div class = "ename">
      <input type = "text" class ="enameO" name = "emergencyContact" id = "ename" maxlength = "100" placeholder = "Emergency Contact" style = "margin-left: calc(221px*var(--scaling-factor)); width: calc(418px*var(--scaling-factor));"  required>
      	</div>
	<div class = "enumber">
      <input type = "text" class ="enumberO" name = "emrgencyNumber" id = "ephone" maxlength = "10" placeholder = "Emergency Number" style = "margin-left: calc(698px*var(--scaling-factor)); width: calc(367px*var(--scaling-factor));" required>
      	</div>
	<div class = "bday">
      <input type = "date" class = "bdayO" name = "birthday" id = "bday" placeholder = "Birthday" style = "margin-left: calc(1124px*var(--scaling-factor)); width: calc(524px*var(--scaling-factor));" required>
	</div>
      <div class = "button">
      <input type = "image" src = "C:\Users\Valiant\OneDrive\Documents\SACState\FALL2023\CSC131\Project\Images\EditedSubmitButton.png" border-style="none" class = "buttonO" id = "submit" alt = "submit" style = "margin-left: calc(752px*var(--scaling-factor));">
	</div>
    </form>

	<script>

function checkValid(event) {
  var inputElement = event.target;

  if (inputElement.tagName === 'INPUT' && inputElement.form) {
    if (inputElement.id === 'name') {
      var inputValue = inputElement.value.trim();

      if (inputValue === '') {
        // Blank input: set border color to white
        inputElement.style.borderBottom = 'calc(5px*var(--scaling-factor)) solid white';
      } else {
        var isValid = /^[A-Za-z]+$/.test(inputValue);

        if (!isValid) {
          // Invalid input: set border color to red
          inputElement.style.borderBottom = 'calc(5px*var(--scaling-factor)) solid red';
        } else {
          // Valid input: set border color to green
          inputElement.style.borderBottom = 'calc(5px*var(--scaling-factor)) solid green';
        }
      }
    }
    if (inputElement.id === 'email') {
      var inputValue = inputElement.value.trim();

      if (inputValue === '') {
        // Blank input: set border color to white
        inputElement.style.borderBottom = 'calc(5px*var(--scaling-factor)) solid white';
      } else {
        var isValid = /^[A-Za-z]+$/.test(inputValue);

        if (!isValid) {
          // Invalid input: set border color to red
          inputElement.style.borderBottom = 'calc(5px*var(--scaling-factor)) solid red';
        } else {
          // Valid input: set border color to green
          inputElement.style.borderBottom = 'calc(5px*var(--scaling-factor)) solid green';
        }
      }
    }
  }
 
  }


document.addEventListener('input', checkValid);

          
        document.getElementById('myForm').addEventListener('submit', function (event) {
            event.preventDefault();

            const formData = {
                id: localStorage.getItem('googleId'),
                name: document.getElementById('name').value,
                email: document.getElementById('email').value,
                phone: document.getElementById('phone').value,
                address: document.getElementById('address').value,
                city: document.getElementById('city').value,
                zipcode: document.getElementById('zipcode').value,
                ename: document.getElementById('ename').value,
                ephone: document.getElementById('ephone').value,
                bday: document.getElementById('bday').value,
            };

            fetch('/user-submit', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify(formData),
            })
            .then(response => response.text())
            .then(data => {
                console.log('Success:', data);
                alert('Data submitted successfully!');
            })
            .catch((error) => {
                console.error('Error:', error);
                alert('Error submitting data');
            });
        });
        var screenWidth = window.screen.width;
        var baseResolutionWidth = 1920;
        var scalingFactor = screenWidth / baseResolutionWidth;
        document.documentElement.style.setProperty('--scaling-factor', scalingFactor);
    </script>
  </body>
</html> 

